/* ===== Reset/variáveis ===== */
:root{
  --space: clamp(0.75rem, 1.5vw, 1.25rem);
  --space-lg: clamp(1rem, 2vw, 2rem);
  --radius: 12px;
  --overlay-bg: rgba(0,0,0,.6);

  /* Envelope: base 20x13 rem -> tornamos fluido */
  --env-w: clamp(16rem, 70vw, 22rem);
  --env-ratio: 20 / 13;
  --env-h: calc(var(--env-w) / (var(--env-ratio)));
}

/* Box sizing consistente */
*,*::before,*::after{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#fff;
  line-height:1.3;
}

/* ===== Layout base ===== */
.container{
  display:grid;
  grid-template-columns: minmax(0,1fr);
  grid-template-rows: auto auto auto auto;
  grid-template-areas:
    "title"
    "letter"
    "roses"
    "waves";
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 1;
  min-height: 100svh; /* seguro no mobile */
  gap: var(--space);
  padding-bottom: clamp(20px, 8svh, 96px); /* respiro p/ waves em telas pequenas */
}

.space-1{ grid-area: title; }
.space-2 {
  grid-area: letter;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-lg) 0;
}
.space-3{ grid-area: roses; }
.space-4 {
   grid-area: waves;
  }
  
  .waves{
   opacity: 0;

 }

/* ===== Títulos responsivos ===== */
.title{
  width:100%;
  padding-top: clamp(2rem, 8svh, 5rem);
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  text-align:center;
}
.title h4{
  font-family: 'Glass Antiqua', cursive;
  font-weight:400;
  margin:0;
  font-size: clamp(1.1rem, 2.5vw, 1.6rem);
}
.title h2{
  font-family:'Marcellus', serif;
  font-weight:400;
  margin: clamp(.5rem, 1.5vw, 1rem) 0 0 0;
  font-size: clamp(1.4rem, 3.2vw, 2rem);
}

/* ===== Envelope central ===== */
.envelope-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}
.envelope-container{
  position: relative;
  width: var(--env-w);
  height: var(--env-h);
  display:block;
}

/* Corpo do envelope */
.envelope-body{
  position: relative;
  width: 100%;
  height: 100%;
  background-color: #940000;
  border-radius: 2px;
  box-shadow: 0 4px 12px rgba(0,0,0,.25);
  overflow: hidden;
  cursor: pointer;
}
.inner-shadow{
  position:absolute; inset:0;
  background: linear-gradient(to bottom right, rgba(0,0,0,.1), transparent);
}

/* Selo central */
.center-image{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  z-index: 11;
}
.seal-image{
  width: clamp(2.5rem, 12vw, 4rem);
  height: auto;
  object-fit: contain;
}

/* Aba do envelope */
.envelope-flap{
  position:absolute; inset: 0 auto auto 0;
  width: 100%;
  height: 50%;
  overflow: visible;
  z-index: 10;
}
.flap-shape{
  position:absolute; top:0; left:0;
  width:100%;
  height: 200%;
  background-color:#DA3838;
  box-shadow: 0 4px 10px rgba(0,0,0,.3);
  transition: transform .35s ease-in-out;
  clip-path: polygon(0% 0%, 100% 0%, 50% 50%);
  transform-origin: 50% 0%;
  transform: scaleY(1);
}
.flap-shape.open{ transform: scaleY(-1); }
@media (prefers-reduced-motion: reduce){
  .flap-shape{ transition: none; }
}
.flap-highlight{
  position:absolute; inset:0;
  display:flex; align-items:flex-start; justify-content:center;
  padding-top: .5rem;
  color:#fff;
  font-family: 'Marck Script', cursive;
  font-size: clamp(1rem, 3vw, 1.25rem);
  background: linear-gradient(to bottom, rgba(0,0,0,.1), transparent);
  clip-path: polygon(0% 0%, 100% 0%, 50% 50%);
}

/* ===== Rosas (agora não é fixed) ===== */
.rose-content{
  display:flex; align-items:center; justify-content:center;
  padding-block: var(--space);
}
.roses-image{
  width: clamp(12rem, 60vw, 20rem);
  height:auto;
  max-width: 100%;
}

.space-4 {
   opacity: 1;

 }

/* ===== Ondas (deixa responsivo e não sobrepõe conteúdo) ===== */
.waves{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;          /* cola no ‘chão’ */
  width: 100%;
  pointer-events: none; /* não bloqueia cliques nos elementos acima */
  z-index: 0;
}

.waves img{
  width: 100%;
  height: auto;
  display: block;
}
/* ===== Overlays (convite, sugestão, local) ===== */
.invitation,
.suggestion,
.local{
  position: fixed;
  inset: 0;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index: 100;
  opacity:0;
  pointer-events:none;
  transition: opacity .25s ease;
  padding: var(--space-lg);
}
.suggestion,
.local{ background-color: var(--overlay-bg); }

.invitation.show,
.suggestion.show,
.local.show{
  opacity:1;
  pointer-events:auto;
}

.invitation img,
.suggestion img,
.local img{
  max-width: min(92vw, 720px);
  max-height: min(70svh, 820px);
  width:auto;
  height:auto;
  object-fit:contain;
  border-radius: var(--radius);
  box-shadow: 0 0 30px rgba(0,0,0,.35);
}

/* Botão fechar / voltar */
.close-btn,
.back-btn{
  position:absolute;
  top: clamp(8px, 2svh, 16px);
  right: clamp(8px, 3vw, 24px);
  background: rgba(255,255,255,.85);
  color:#000;
  font-size: clamp(1.25rem, 4vw, 2rem);
  border:none;
  border-radius: 999px;
  width: clamp(36px, 8vw, 44px);
  height: clamp(36px, 8vw, 44px);
  cursor:pointer;
  z-index: 101;
  display:flex; align-items:center; justify-content:center;
  transition: transform .15s ease;
}
.back-btn{ font-weight:700; }
.close-btn:hover,
.back-btn:hover{ transform: scale(1.06); }

/* Painel de botões do convite */
.buttons-panel{
  position: fixed;
  left:50%; transform: translateX(-50%);
  bottom: clamp(16px, 6svh, 56px);
  display:flex; gap: clamp(1rem, 6vw, 3rem);
  z-index: 150;
}
.buttons-panel button{
  border:none; background:transparent;
  cursor:pointer; outline:none;
  width: clamp(5rem, 24vw, 8rem);
  height: clamp(8rem, 38vw, 14rem);
}

/* PIX */
.pix-container{
  position: fixed;
  left:50%; transform: translateX(-50%);
  bottom: clamp(16px, 6svh, 56px);
  display:flex; flex-direction:column; align-items:center;
  z-index: 150;
  width: min(90vw, 320px);
}
.copy-pix-btn{
  padding: .75rem 1rem;
  background-color: #15cc8f;
  color:#fff;
  border:none; border-radius:.5rem;
  cursor:pointer; font-size: 1rem;
  width:100%;
  transition: filter .2s ease;
}
.copy-pix-btn:hover{ filter:brightness(.95); }
#pix-msg{
  margin-top:.5rem; color:#fff;
  font-size:.95rem; text-align:center;
  transition: opacity .25s ease;
}
.hidden{ opacity:0; visibility:hidden; }
.show{ opacity:1; visibility:visible; }

/* ===== Mapa no overlay "local" ===== */
.local-image-container{
  position: relative;
  max-width: min(92vw, 720px);
  width:100%;
}
.local-image-container img{
  display:block;
  width:100%;
  height:auto;
  border-radius: var(--radius);
  box-shadow: 0 0 30px rgba(0,0,0,.35);
}
.map-overlay{
  position:absolute;
  top:50%; left:50%;
  transform: translate(-50%, -50%);
  width: clamp(220px, 70%, 380px);
  aspect-ratio: 3 / 2;
  border: 2px solid #fff;
  border-radius: 10px;
  z-index:10;
}

/* ===== Media queries finas ===== */
@media (max-width: 768px){
  /* Mostra as ondas só no mobile se quiser esse efeito */
  .waves{ opacity: 1; }
  
}

@media (max-width: 380px){
  .title{ padding-top: 4.5rem; }
}
